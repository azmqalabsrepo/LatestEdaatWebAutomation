package com.azmqalabs.edaattestautomation.apppages.Client.pages;

import java.io.IOException;
import java.util.Map;

import org.openqa.selenium.NoSuchElementException;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;
import com.aventstack.extentreports.ExtentTest;
import com.aventstack.extentreports.Status;
import com.azmqalabs.edaattestautomation.apppages.masterpages.BasePage;
import com.azmqalabs.edaattestautomation.common.ReadData;
import com.azmqalabs.edaattestautomation.common.uielement.fieldDecorator;
import com.azmqalabs.edaattestautomation.objectrepository.EdaatOR;
import com.codoid.products.fillo.Recordset;

public class ClientPayablesInstallmentsBillsPage extends BasePage {

	public ClientPayablesInstallmentsBillsPage(WebDriver driver, ExtentTest test) {
		this.driver = driver;
		this.test = test;

		PageFactory.initElements(new fieldDecorator(driver, test), this);
	}

	@FindBy(xpath = EdaatOR.Client_Payables_InstallmentsPage_verify)
	public WebElement Installments;

	public boolean Exists() {
		return super.Exists(Installments);
	}
	public void InstallmentBillSearch(Map<Object, Object> testdatamap) throws IOException
	{
		try {
		WebClickUsingJS(EdaatOR.Client_Payables_InstallmentsPage_lnk);
		WebEdit(EdaatOR.Client_Payables_Installments_Contractnum,testdatamap.get("Contract Number").toString());
		WebEdit(EdaatOR.Client_Payables_Installments_billername,testdatamap.get("Biller Name").toString());
		WebClickUsingJS(EdaatOR.Client_Payables_Installments_Search);
        this.takeScreenShot();
		VerifyValue1(getText(EdaatOR.Client_Payables_Installments_Contract_Verify), testdatamap.get("Contract Number").toString());
        this.takeScreenShot();
		test.log(Status.PASS,"#FUNC-Installment Bill Search" + driver.getTitle() +" * Installment Bill Search is PASS * ");
		
		}
		catch(Exception e){
	      test.log(Status.FATAL,"#FUNC-Installment Bill Search" + driver.getTitle() +" * Installment Bill Search is FAIL * ");
          this.takeScreenShot();
		}
	}
		public void InstallmentBillSContractclick(Map<Object, Object> testdatamap) throws IOException
	{
		try {
	    InstallmentBillSearch(testdatamap);
	    WebClick(EdaatOR.Client_Payables_Installments_Contract_Click);
	    Thread.sleep(3000);
	    switchTonextwindow();
	    verifyElementIsPresent("//label[text()='"+testdatamap.get("Contract Number").toString()+"']");
	    Thread.sleep(3000);
	    switchToDefault();
		test.log(Status.PASS,"#FUNC-Contract number is Clickable" + driver.getTitle() +" * Contract number is Clickable is PASS * ");
		this.takeScreenShot();
		}
		catch(Exception e){
	      test.log(Status.FATAL,"#FUNC-Contract number is Clickable" + driver.getTitle() +" *  Contract number is Clickable is FAIL * ");
		}
	}
}


